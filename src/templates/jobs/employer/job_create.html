{% extends "base/base.html" %}
{% load i18n %}

{% block title %}{% trans "Create New Job Posting" %}{% endblock %}

{% block content %}
<div class="bg-accountForm shadow-xl rounded-3xl max-w-5xl mx-auto p-10 relative overflow-hidden mt-10 mr-96">

  <!-- تزئینات بلوری -->
  <div class="absolute -top-10 -right-10 w-32 h-32 bg-indigo-300 rounded-full blur-3xl opacity-30"></div>
  <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-pink-300 rounded-full blur-3xl opacity-30"></div>

  <h2 class="text-2xl font-bold text-gray-800 mb-8">
    {% trans "Create New Job Posting" %}
  </h2>

  <form method="post" novalidate class="space-y-8">
    {% csrf_token %}

    <!-- عنوان و موقعیت -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.title.label }}
        </label>
        <input type="text" name="title" id="title"
               value="{{ form.title.value|default_if_none:'' }}"
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {% if form.title.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.title.errors }}</p>
        {% endif %}
      </div>

      <div>
        <label for="location" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.location.label }}
        </label>
        <input type="text" name="location" id="location"
               value="{{ form.location.value|default_if_none:'' }}"
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {% if form.location.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.location.errors }}</p>
        {% endif %}
      </div>
    </div>

    <!-- نوع استخدام -->
    <div>
      <label for="employment_type" class="block text-sm font-medium text-gray-700 mb-1">
        {{ form.employment_type.label }}
      </label>
      <select name="employment_type" id="employment_type"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {% for choice in form.employment_type.field.choices %}
          <option value="{{ choice.0 }}" {% if choice.0 == form.employment_type.value %}selected{% endif %}>
            {{ choice.1 }}
          </option>
        {% endfor %}
      </select>
      {% if form.employment_type.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.employment_type.errors }}</p>
      {% endif %}
    </div>

    <!-- توضیحات -->
    <div>
      <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
        {{ form.description.label }}
      </label>
      <textarea name="description" id="description" rows="4"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm resize-none bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">{{ form.description.value|default_if_none:'' }}</textarea>
      {% if form.description.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.description.errors }}</p>
      {% endif %}
    </div>

    <!-- حقوق و وضعیت تأیید -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label for="salary_min" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.salary_min.label }}
        </label>
        <input type="number" name="salary_min" id="salary_min"
               value="{{ form.salary_min.value|default_if_none:'' }}"
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {% if form.salary_min.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.salary_min.errors }}</p>
        {% endif %}
      </div>

      <div>
        <label for="salary_max" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.salary_max.label }}
        </label>
        <input type="number" name="salary_max" id="salary_max"
               value="{{ form.salary_max.value|default_if_none:'' }}"
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        {% if form.salary_max.errors %}
          <p class="text-sm text-red-600 mt-1">{{ form.salary_max.errors }}</p>
        {% endif %}
      </div>
    </div>

    <!-- تأیید -->
    <div>
      <label for="is_approved" class="block text-sm font-medium text-gray-700 mb-1">
        {{ form.is_approved.label }}
      </label>
      <input type="checkbox" name="is_approved" id="is_approved"
             {% if form.is_approved.value %}checked{% endif %}
             class="h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
      {% if form.is_approved.errors %}
        <p class="text-sm text-red-600 mt-1">{{ form.is_approved.errors }}</p>
      {% endif %}
    </div>

    <!-- دکمه ارسال -->
    <div>
      <button type="submit"
              class="w-full sm:w-auto px-6 py-3 bg-green-600 text-white rounded-full font-semibold text-sm hover:bg-green-500 transition">
        {% trans "Submit" %}
      </button>
    </div>
  </form>
</div>
{% endblock %}
{% extends "base/base.html" %}
{% load i18n %}
{% load static %}

{% block title %}
  {{ job.title }}
{% endblock %}

{% block content %}
<div class="px-4 py-10 md:pr-72">
  <div class="bg-accountForm shadow-xl rounded-3xl max-w-3xl mx-auto p-8 relative overflow-hidden">

    <div class="absolute -top-10 -right-10 w-32 h-32 bg-indigo-300 rounded-full blur-3xl opacity-30"></div>
    <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-pink-300 rounded-full blur-3xl opacity-30"></div>

    <h2 class="text-3xl font-bold text-gray-800 mb-6">{{ job.title }}</h2>

    <div class="space-y-4 text-sm text-gray-700">
      <p><strong>{% trans "Location" %}:</strong> {{ job.location }}</p>

      <p>
        <strong>{% trans "Employer" %}:</strong>
        {% if employer_profile %}
          <a href="{% url 'account:public_profile' employer_profile.pk %}" class="text-indigo-600 hover:underline">
            {{ job.employer.full_name }}
          </a>
        {% else %}
          {{ job.employer.full_name }}
        {% endif %}
      </p>

      <p><strong>{% trans "Employment type" %}:</strong> {{ job.get_employment_type_display }}</p>
      <p><strong>{% trans "Salary" %}:</strong> {{ job.salary_range }}</p>
    </div>

    <div class="mt-6">
      <h3 class="text-lg font-semibold text-gray-800 mb-2">{% trans "Description" %}</h3>
      <div class="prose prose-sm text-gray-600 leading-relaxed">
        {{ job.description|linebreaks }}
      </div>
    </div>

    <div class="mt-8">
      {% if can_apply %}
        {% if has_applied %}
          <p class="text-sm text-gray-500">{% trans "You have already applied for this job." %}</p>
        {% else %}
          <a href="{% url 'job:job_apply' job.pk %}"
             class="inline-block px-6 py-2 bg-green-600 text-white rounded-full font-semibold text-sm hover:bg-green-500 transition">
            {% trans "Apply for this job" %}
          </a>
        {% endif %}
      {% else %}
        <p class="text-sm text-gray-500">{% trans "Employers cannot apply for jobs." %}</p>
      {% endif %}
    </div>

    <div class="mt-6">
      <a href="{% url 'job:job_list' %}"
         class="text-indigo-600 text-sm hover:underline">
        ‚Üê {% trans "Back to job listings" %}
      </a>
    </div>
  </div>
</div>
{% endblock %}